exports.id=880,exports.ids=[880],exports.modules={98183:(e,s,r)=>{Promise.resolve().then(r.bind(r,58942))},9052:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,26840,23)),Promise.resolve().then(r.t.bind(r,38771,23)),Promise.resolve().then(r.t.bind(r,13225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,43982,23))},22067:()=>{},35303:()=>{},58942:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>v});var t=r(95344),a=r(3729),l=r(89410);let n=()=>t.jsx("div",{className:"flex flex-row gap-2 justify-center items-center px-5 rounded-xl ",children:t.jsx(l.default,{src:"/LogoNBG.png",alt:"Logo",width:50,height:50})});var i=r(56506);let o=()=>t.jsx(i.default,{href:"/api/auth/signout",className:"bg-yellow-500 rounded-xl py-2 px-3 text-white font-bold shadow",children:"Logout"});var d=r(342),c=r(8428);let u=[{name:"Dashboard",href:"/dashboard",req_priv:0,svg:t.jsx("svg",{className:"w-6 h-6 ","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{"fill-rule":"evenodd",d:"M4.9 3C3.9 3 3 3.8 3 4.9V9c0 1 .8 1.9 1.9 1.9H9c1 0 1.9-.8 1.9-1.9V5c0-1-.8-1.9-1.9-1.9H5Zm10 0c-1 0-1.9.8-1.9 1.9V9c0 1 .8 1.9 1.9 1.9H19c1 0 1.9-.8 1.9-1.9V5c0-1-.8-1.9-1.9-1.9h-4Zm-10 10c-1 0-1.9.8-1.9 1.9V19c0 1 .8 1.9 1.9 1.9H9c1 0 1.9-.8 1.9-1.9v-4c0-1-.8-1.9-1.9-1.9H5Zm10 0c-1 0-1.9.8-1.9 1.9V19c0 1 .8 1.9 1.9 1.9H19c1 0 1.9-.8 1.9-1.9v-4c0-1-.8-1.9-1.9-1.9h-4Z","clip-rule":"evenodd"})})},{name:"Other Members",href:"/dashboard/members",req_priv:0,svg:t.jsx("svg",{className:"w-6 h-6 ","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{"fill-rule":"evenodd",d:"M12 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm-2 9a4 4 0 0 0-4 4v1c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2v-1a4 4 0 0 0-4-4h-4Z","clip-rule":"evenodd"})})},{name:"Extra Resources",href:"/dashboard/resources",req_priv:0,svg:t.jsx("svg",{className:"w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{"fill-rule":"evenodd",d:"M11 4.7C8.7 4.1 6.8 4 4 4a2 2 0 0 0-2 2v11c0 1.1 1 2 2 2 2.8 0 4.5.2 7 .8v-15Zm2 15.1c2.5-.6 4.2-.8 7-.8a2 2 0 0 0 2-2V6c0-1-.9-2-2-2-2.8 0-4.7.1-7 .7v15.1Z","clip-rule":"evenodd"})})},{name:"Add Funds",href:"/dashboard/addfunds",req_priv:0,svg:(0,t.jsxs)("svg",{className:"w-6 h-6 ","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{"fill-rule":"evenodd",d:"M4 5a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H4Zm0 6h16v6H4v-6Z","clip-rule":"evenodd"}),t.jsx("path",{"fill-rule":"evenodd",d:"M5 14c0-.6.4-1 1-1h2a1 1 0 1 1 0 2H6a1 1 0 0 1-1-1Zm5 0c0-.6.4-1 1-1h5a1 1 0 1 1 0 2h-5a1 1 0 0 1-1-1Z","clip-rule":"evenodd"})]})},{name:"Classes",href:"/dashboard/manageclass",req_priv:2,svg:t.jsx("svg",{className:"w-6 h-6 ","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{"fill-rule":"evenodd",d:"M14 4.2a4.1 4.1 0 0 1 5.8 0 4 4 0 0 1 0 5.7l-1.3 1.3-5.8-5.7L14 4.2Zm-2.7 2.7-5.1 5.2 2.2 2.2 5-5.2-2.1-2.2ZM5 14l-2 5.8c0 .3 0 .7.3 1 .3.3.7.4 1 .2l6-1.9L5 13.8Zm7 4 5-5.2-2.1-2.2-5.1 5.2 2.2 2.1Z","clip-rule":"evenodd"})})},{name:"Manage Users",href:"/dashboard/manage",req_priv:2,svg:t.jsx("svg",{className:"w-6 h-6 ","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{"fill-rule":"evenodd",d:"M5 8a4 4 0 1 1 7.8 1.3l-2.5 2.5A4 4 0 0 1 5 8Zm4 5H7a4 4 0 0 0-4 4v1c0 1.1.9 2 2 2h2.2a3 3 0 0 1-.1-1.6l.6-3.4a3 3 0 0 1 .9-1.5L9 13Zm9-5a3 3 0 0 0-2 .9l-6 6a1 1 0 0 0-.3.5L9 18.8a1 1 0 0 0 1.2 1.2l3.4-.7c.2 0 .3-.1.5-.3l6-6a3 3 0 0 0-2-5Z","clip-rule":"evenodd"})})},{name:"Transactions",href:"/dashboard/transactions",req_priv:2,svg:(0,t.jsxs)("svg",{className:"w-6 h-6 ","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{"fill-rule":"evenodd",d:"M4 5a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H4Zm0 6h16v6H4v-6Z","clip-rule":"evenodd"}),t.jsx("path",{"fill-rule":"evenodd",d:"M5 14c0-.6.4-1 1-1h2a1 1 0 1 1 0 2H6a1 1 0 0 1-1-1Zm5 0c0-.6.4-1 1-1h5a1 1 0 1 1 0 2h-5a1 1 0 0 1-1-1Z","clip-rule":"evenodd"})]})}],h=()=>{let e=(0,d.l)(),s=(0,c.usePathname)();return t.jsx("div",{className:"flex flex-col items-start w-full overflow-hidden",children:u.map((r,a)=>{if(e&&e.user&&e.user.privilege>=r.req_priv)return t.jsx(i.default,{href:r.href,className:" ml-1 w-full overflow-hidden ",children:(0,t.jsxs)("div",{className:`md:pl-4 md:h-12 lg:h-16 w-full flex flex-row gap-4 group items-center justify-center md:justify-start ${s===r.href?"text-yellow-500 md:bg-slate-100 md:rounded-l-full md:shadow-inner":"text-gray-500"} cursor-pointer transition-all duration-500 ease-in-out`,children:[t.jsx("div",{className:`w-9 h-9 flex items-center justify-center transition-all duration-500 ease-in-out  rounded-full ${s===r.href?"bg-amber-200 md:shadow-lg":"group-hover:mb-2 group-hover:shadow-lg"}`,children:r.svg}),t.jsx("p",{className:" hidden md:block text-base",children:r.name})]})},a)})})};var m=r(45352);let v=({session:e})=>{let[s,r]=(0,a.useState)(!1);return(0,t.jsxs)(d.B.Provider,{value:e,children:[(0,t.jsxs)("div",{className:"fixed h-screen hidden md:flex flex-col justify-between items-center py-10 w-[210px]",children:[t.jsx(n,{}),t.jsx(h,{}),t.jsx(o,{})]}),t.jsx("button",{className:"md:hidden bg-slate-100 rounded p-2",onClick:()=>{r(!s)},children:s?t.jsx("svg",{className:"w-8 h-8 text-black","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:t.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18 18 6m0 12L6 6"})}):t.jsx("svg",{className:"w-8 h-8 text-black","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:t.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"M5 7h14M5 12h14M5 17h14"})})}),s&&(0,t.jsxs)(m.E.div,{initial:{x:-1e3},animate:{x:0},transition:{stiffness:170},className:"fixed  h-[70%] p-4  w-[90px] rounded-xl bg-white z-10 flex flex-col items-center justify-between shadow-xl  md:hidden",children:[t.jsx(n,{}),t.jsx(h,{}),t.jsx(o,{})]})]})}},342:(e,s,r)=>{"use strict";r.d(s,{B:()=>a,l:()=>l});var t=r(3729);let a=(0,t.createContext)(void 0),l=()=>{let e=(0,t.useContext)(a);if(void 0===e||void 0===e.user)throw Error("Please use within a session provider");return e}},8428:(e,s,r)=>{"use strict";var t=r(14767);r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}})},68582:(e,s,r)=>{"use strict";r.d(s,{Z:()=>n});var t=r(23106),a=r(10375),l=r(50694);let n={adapter:function(e){return{async createVerificationToken(s){let{identifier:r,expires:t,token:a}=s,l=`
        INSERT INTO verification_token ( identifier, expires, token ) 
        VALUES ($1, $2, $3)
        `;return await e.query(l,[r,t,a]),s},async useVerificationToken({identifier:s,token:r}){let t=`delete from verification_token
      where identifier = $1 and token = $2
      RETURNING identifier, expires, token `,a=await e.query(t,[s,r]);return 0!==a.rowCount?a.rows[0]:null},async createUser(s){let{name:r,email:t,emailVerified:a,image:l}=s,n=`
        INSERT INTO users (name, email, "emailVerified", image) 
        VALUES ($1, $2, $3, $4) 
        RETURNING id, name, email, "emailVerified", image`,i=`
            INSERT INTO balances (user_id) VALUES ($1)
        `,o=await e.query(n,[r,t,a,l]);return await e.query(i,[o.rows[0].id]),o.rows[0]},async getUser(s){try{let r=await e.query("select * from users where id = $1",[s]);return 0===r.rowCount?null:r.rows[0]}catch(e){return null}},async getUserByEmail(s){let r=await e.query("select * from users where email = $1",[s]);return 0!==r.rowCount?r.rows[0]:null},async getUserByAccount({providerAccountId:s,provider:r}){let t=`
          select u.* from users u join accounts a on u.id = a."userId"
          where 
          a.provider = $1 
          and 
          a."providerAccountId" = $2`,a=await e.query(t,[r,s]);return 0!==a.rowCount?a.rows[0]:null},async updateUser(s){let{id:r,name:t,email:a,emailVerified:l,image:n}={...(await e.query("select * from users where id = $1",[s.id])).rows[0],...s},i=`
        UPDATE users set
        name = $2, email = $3, "emailVerified" = $4, image = $5
        where id = $1
        RETURNING name, id, email, "emailVerified", image
      `;return(await e.query(i,[r,t,a,l,n])).rows[0]},async linkAccount(s){let r=`
      insert into accounts 
      (
        "userId", 
        provider, 
        type, 
        "providerAccountId", 
        access_token,
        expires_at,
        refresh_token,
        id_token,
        scope,
        session_state,
        token_type
      )
      values ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)
      returning
        id,
        "userId", 
        provider, 
        type, 
        "providerAccountId", 
        access_token,
        expires_at,
        refresh_token,
        id_token,
        scope,
        session_state,
        token_type
      `,t=[s.userId,s.provider,s.type,s.providerAccountId,s.access_token,s.expires_at,s.refresh_token,s.id_token,s.scope,s.session_state,s.token_type];return function(e){let s=parseInt(e.expires_at);return{...e,expires_at:s}}((await e.query(r,t)).rows[0])},async createSession({sessionToken:s,userId:r,expires:t}){if(void 0===r)throw Error("userId is undef in createSession");let a=`insert into sessions ("userId", expires, "sessionToken")
      values ($1, $2, $3)
      RETURNING id, "sessionToken", "userId", expires`;return(await e.query(a,[r,t,s])).rows[0]},async getSessionAndUser(s){if(void 0===s)return null;let r=await e.query('select * from sessions where "sessionToken" = $1',[s]);if(0===r.rowCount)return null;let t=r.rows[0],a=await e.query("select * from users where id = $1",[t.userId]);return 0===a.rowCount?null:{session:t,user:a.rows[0]}},async updateSession(s){let{sessionToken:r}=s,t=await e.query('select * from sessions where "sessionToken" = $1',[r]);if(0===t.rowCount)return null;let a={...t.rows[0],...s},l=`
        UPDATE sessions set
        expires = $2
        where "sessionToken" = $1
        `;return(await e.query(l,[a.sessionToken,a.expires])).rows[0]},async deleteSession(s){await e.query('delete from sessions where "sessionToken" = $1',[s])},async unlinkAccount(s){let{provider:r,providerAccountId:t}=s;await e.query('delete from accounts where "providerAccountId" = $1 and provider = $2',[t,r])},async deleteUser(s){await e.query("delete from users where id = $1",[s]),await e.query('delete from sessions where "userId" = $1',[s]),await e.query('delete from accounts where "userId" = $1',[s])}}}(t.d),providers:[(0,a.Z)({clientId:process.env.GOOGLE_ID,clientSecret:process.env.GOOGLE_SECRET}),(0,l.Z)({clientId:process.env.GITHUB_ID,clientSecret:process.env.GITHUB_SECRET})],callbacks:{session:async({session:e,user:s})=>(e.user=s,e)}}},36542:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>u});var t=r(25036);r(40002);let a=(0,r(86843).createProxy)(String.raw`/home/Frasier/Documents/web/JLSM/jlsm/components/dashboard/NavbarWrapper.tsx`),{__esModule:l,$$typeof:n}=a,i=a.default;var o=r(81355),d=r(867),c=r(68582);let u=async({children:e})=>{let s=await (0,o.getServerSession)(c.Z);return s?s.user.verified?t.jsx("main",{className:"p-3 bg-black h-screen",children:(0,t.jsxs)("div",{className:"rounded-xl  bg-slate-100 md:bg-white h-full",children:[t.jsx(i,{session:s}),t.jsx("div",{className:"md:ml-[210px] md:rounded-3xl p-4 md:p-16 bg-slate-100 md:h-full overflow-y-scroll text-black",children:e})]})}):t.jsx("div",{className:"bg-black p-4 h-screen",children:(0,t.jsxs)("div",{className:"h-full flex flex-col rounded-xl space-y-3 items-center justify-center bg-slate-200 text-center",children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-600",children:"Email not verified"}),t.jsx("div",{className:"p-4 rounded-xl bg-slate-500",children:t.jsx("p",{className:"text-white",children:"Please wait for an Admin to verify your email."})})]})}):(0,d.redirect)("/api/auth/signin?callbackUrl=/dashboard")}},58337:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});var t=r(25036);r(40002);let a=()=>(0,t.jsxs)("div",{className:"animate-pulse gap-4 flex-col items-center",children:[(0,t.jsxs)("div",{className:"flex items-center w-full",children:[t.jsx("div",{className:"h-8 w-8 bg-gray-400 rounded-full"}),t.jsx("div",{className:"ml-2 h-8 w-full bg-gray-400 rounded-full"})]}),t.jsx("div",{className:"h-4 w-[50%] bg-gray-400 my-2 rounded-full"}),t.jsx("div",{className:"h-4 w-[70%] bg-gray-400 my-2 rounded-full"}),t.jsx("div",{className:"h-4 w-[80%] bg-gray-400 my-2 rounded-full"}),t.jsx("div",{className:"h-4 w-[60%] bg-gray-400 my-2 rounded-full"}),t.jsx("div",{className:"h-4 w-[40%] bg-gray-400 my-2 rounded-full"}),t.jsx("div",{className:"h-4 w-[90%] bg-gray-400 my-2 rounded-full"}),t.jsx("h2",{className:"text-gray-400 text-2xl font-bold",children:"Loading ... "}),t.jsx("p",{className:"text-gray-400",children:"The shouldn't take long :)"})]})},82917:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>i,metadata:()=>n});var t=r(25036),a=r(8592),l=r.n(a);r(67272);let n={title:"JLSM",description:"A Language learning management system"};function i({children:e}){return t.jsx("html",{lang:"en",children:t.jsx("body",{className:l().className,children:e})})}},23106:(e,s,r)=>{"use strict";r.d(s,{d:()=>t});let t=new(r(35900)).Pool({connectionString:process.env.DBCONNSTR})},57481:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});var t=r(70337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,t.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},67272:()=>{}};